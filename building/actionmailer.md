Use ActionMailer

* Invoke in controller:

```
UserMailer.welcome_email(user).deliver_later
```
* UserMailer is a class generated by `rails g mailer UserMailer`. 
  Following MVC model, this is the controller for the mailer. The action welcome_email 
  generates a mail object, which holds email info in a hash. This mail object can be delivered 
  by actionmailer method. Mailer actions has its own directory and module.
```
class UserMailer <  ActionMailer::Base
  default from: "from@example.com"
  def welcome_email(user)
    @user = user
    @url = 'http://localhost:3000'
    mail(to: @user.email, subject: 'Welcome to My Awesome Site')
  end
    end
```

* Generate views (text or html) in `app/view/user_mailer` for the action `welcome_email`

* Configuration for server in `config/environments/development.rb`
```
  config.action_mailer.delivery_method = :sendmail # :sendmail or :smtp
  config.action_mailer.perform_deliveries = true
  config.action_mailer.raise_delivery_errors = true
```
* The actual configuration for sendmail command is in ~/.msmtprc

* For cloud9, use [mailgun](mailgun.md)
